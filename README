Source code is stolen from gamedevgeek.com by Anthony Lewis

The url of original source should be 
http://gamedevgeek.com/tutorials/calling-lua-functions/
http://gamedevgeek.com/tutorials/calling-c-functions-from-lua/

Thanks